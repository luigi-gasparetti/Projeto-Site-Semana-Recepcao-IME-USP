<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="styles.css">
    <!-- <script src="kotlin.js"></script>
    <script src="output.js"></script> -->
</head>
<body style="background-color: #f0f0f0">

<div class="topnav">
    <a class="active" href="index.html">Home</a>
    <a href="membros.html">Membros</a>
    <a  href="tab_horas.html">Tabela</a>

</div>

<!-- <header style = "height:50px">
    <div style="display: flex; height:100%">
        <div style="flex: 1; background-color: #FF0000; height: 100%; display: flex; align-items: center; justify-content: center;">
            <p style="color: white; margin: 0">INÍCIO</p>
        </div>
        <div id="quem_somos_dropdown" class="dropdown" style="flex: 1; background-color: #FF0000; height: 100%; display: flex; align-items: center; justify-content: center;">
            <p style="color: white; margin: 0;">QUEM SOMOS</p>
            <div class="dropdown-content">
                <a href="nossa_gestao">Nossa Gestão</a>
                <a href="nossosprojetos">Nossos Projetos</a>
            </div>-->
<!-- </div>
<div style="flex: 1; background-color: #FF0000; height: 100%;  display: flex; align-items: center; justify-content: center;">
    <p style="color: white; margin: 0;" >GINCANA</p>
</div>
<div style="flex: 1; background-color: #FF0000; height: 100%;  display: flex; align-items: center; justify-content: center;">
    <p style="color: white; margin: 0;" >CONTATO</p>
</div>
</div>
</header> -->


 <div class="secao_boas_vindas" style="text-align:center">
    <p class="texto_boas_vindas">
        Sistema da Comissão
    </p>
</div>


<section id="programacao" class="programacao">
    <div class="programacao section-header" style="justify-content: center;">
        <h2 class="prog-title" style="justify-content: center; background-color:#f0f0f0; color:black">Agenda da Semana</h2>
    </div>
    <div class="container">
        <div id="event-container" class="right-col">
            <!-- Event columns will be populated here by JavaScript -->
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        fetch('/api/eventos')
            .then(response => response.json())
            .then(data => {
                const eventContainer = document.getElementById('event-container');
                const daysMap = new Map();

                data.forEach(evento => {
                    // Check if the column for the day already exists
                    if (!daysMap.has(evento.diaDaSemana)) {
                        // Create event column
                        const eventCol = document.createElement('div');
                        eventCol.classList.add('prog-col');

                        // Create event header
                        const eventHeader = document.createElement('div');
                        eventHeader.classList.add('prog-header');
                        eventHeader.innerHTML = `
                            <span class="prog-header-text">${evento.diaDaSemana}</span>
                        `;

                        // Append header to the column
                        eventCol.appendChild(eventHeader);

                        // Append column to the container and map
                        eventContainer.appendChild(eventCol);
                        daysMap.set(evento.diaDaSemana, eventCol);
                    }

                    // Get the existing column for the day
                    const eventCol = daysMap.get(evento.diaDaSemana);

                    // Create event item
                    const eventItem = document.createElement('div');
                    eventItem.classList.add('prog-item');
                    eventItem.innerHTML = `
                        <span class="item-header">${evento.titulo}</span>
                        <span class="item-content">${evento.horarioInicio} - ${evento.horarioTermino} - ${evento.descricao}</span>
                    `;

                    // Append item to the column
                    eventCol.appendChild(eventItem);
                });
            })
            .catch(error => console.error('Error fetching event data:', error));
    });
</script>


</body>
</html>